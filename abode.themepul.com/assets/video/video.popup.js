!function(o){o.fn.videoPopup=function(e){var t={embedLink:""},i=o.extend({autoplay:!1,showControls:!0,controlsColor:null,loopVideo:!1,showVideoInformations:!0,width:null,customOptions:{}},e),n={youtube:{regex:/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,test:function(o,e){var t=o.match(e);return!(!t||11!=t[7].length)&&t[7]},mount:function(e){var t={autoplay:i.autoplay,color:i.controlsColor,loop:i.loopVideo,controls:i.showControls,showinfo:i.showVideoInformations};return Object.assign(t,i.customOptions),"https://www.youtube.com/embed/"+e+"/?"+o.param(t)}},vimeo:{regex:/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/,test:function(o,e){var t=o.match(e);return!(!t||!t[5].length)&&t[5]},mount:function(e){var t={autoplay:i.autoplay,color:i.controlsColor,loop:i.loopVideo,controls:i.showControls,title:i.showVideoInformations};return Object.assign(t,i.customOptions),"https://player.vimeo.com/video/"+e+"/?"+o.param(t)}}};return o(this).css("cursor","pointer"),o(this).on("click",function(e){e.preventDefault();var s,p,u=o(this).attr("data-video-url");s=u,o.each(n,function(o,e){var i=e.test(s,e.regex);if(i)return t.embedLink=e.mount(i),this});o("body").append((p='<iframe src="'+t.embedLink+'" allowfullscreen frameborder="0" width="'+i.width+'"></iframe>',t.embedLink||(p='<div class="videopopupjs__block--notfound">Video not found</div>'),'<div class="videopopupjs videopopupjs--animation"><div class="videopopupjs__content"><span class="videopopupjs__close"></span>'+p+"</div></div>")),o(".videopopupjs__content").css("max-width",700),i.width&&o(".videopopupjs__content").css("max-width",i.width),o(".videopopupjs").hasClass("videopopupjs--animation")&&setTimeout(function(){o(".videopopupjs").removeClass("videopopupjs--animation")},200),o(".videopopupjs, .videopopupjs__close").click(function(){o(".videopopupjs").addClass("videopopupjs--hide").delay(515).queue(function(){o(this).remove()})})}),o(document).keyup(function(e){27==e.keyCode&&o(".videopopupjs__close").click()}),this}}(jQuery);